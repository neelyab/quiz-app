

STORE = [
    {
        "set": "Practice Set 1",
        "number": 1,
        "question": "What is the definition of a service?",
        "answer": [
            "The means by which an organization is directed and controlled",
            "A set of specialized organizational capabilities for enabling value to customers",
            "A method for visualizing work, identifying potential blockages and resource conflicts, and managing work in progress",
            "A means of enabling value co-creation by facilitating outcomes that customers want to achieve, without the customer having to manage specific costs and risks"
        ],
        "ans": "D",
        "correctAnswer": "A means of enabling value co-creation by facilitating outcomes that customers want to achieve, without the customer having to manage specific costs and risks"
    },
    {
        "set": "Practice Set 1",
        "number": 2,
        "question": "Identify the missing word(s) in the following sentence.<br />Utility is the [?] offered by a product or service to meet a particular need.",
        "answer": [
            "Assurance",
            "Promise",
            "Functionality",
            "Outcome"
        ],
        "ans": "C",
        "correctAnswer": "Functionality"
    },
    {
        "set": "Practice Set 1",
        "number": 3,
        "question": "Identify the missing word in the following sentence.<br />[?] is the practice of ensuring that risks are properly assessed, authorizing changes to proceed, and managing a change schedule in order to maximize the number of successful IT changes.",
        "answer": [
            "IT asset management",
            "Service configuration management",
            "Change control",
            "Service level management"
        ],
        "ans": "C",
        "correctAnswer": "Change control"
    },
    {
        "set": "Practice Set 1",
        "number": 4,
        "question": "Identify the missing word(s) in the following sentence.<br />An event is any change of state that has significance for the management of a(n) [?] or other configuration items.",
        "answer": [
            "Output",
            "Product",
            "Service",
            "Outcome"
        ],
        "ans": "C",
        "correctAnswer": "Service"
    },
    {
        "set": "Practice Set 1",
        "number": 5,
        "question": "What is the purpose of the 'information security management' practice?",
        "answer": [
            "Protecting an organization by understanding and managing risks to the confidentiality, integrity, and availability of information",
            "Ensuring that services achieve agreed and expected performance levels, satisfying current and future demand in a cost-effective way",
            "Ensuring that services deliver agreed levels of availability or that change can be assessed",
            "Systematically observing services and service components and recording and reporting selected changes of state identified as events"
        ],
        "ans": "A",
        "correctAnswer": "Protecting an organization by understanding and managing risks to the confidentiality, integrity, and availability of information"
    },
    {
        "set": "Practice Set 1",
        "number": 6,
        "question": "What is the purpose of the 'monitoring and event management' practice?",
        "answer": [
            "Supporting the agreed quality of a service by handling all pre-defined, user-initiated service requestionsts in an effective and user-friendly manner", "Systematically observing services and service components and recording and reporting selected changes of state identified as events",
            "Minimizing the negative impact of incidents by restoring normal service operation as quickly as possible",
            "Ensuring that all an organization's projects are successfully delivered"
        ],
        "ans": "B",
        "correctAnswer": "Systematically observing services and service components and recording and reporting selected changes of state identified as events"
    },
    {
        "set": "Practice Set 1",
        "number": 7,
        "question": "What is the purpose of the 'incident management' practice?",
        "answer": [
            "Supporting the agreed quality of a service by handling all pre-defined, user-initiated service requestionsts in an effective and user-friendly manner",
            "Ensuring that services deliver agreed levels of availability or that change can be assessed",
            "Ensuring that all an organization's projects are successfully delivered",
            "Minimizing the negative impact of incidents by restoring normal service operation as quickly as possible"
        ],
        "ans": "D",
        "correctAnswer": "Minimizing the negative impact of incidents by restoring normal service operation as quickly as possible"
    },
    {
        "set": "Practice Set 1",
        "number": 8,
        "question": "What is defined as the practice of ensuring that accurate and reliable information about the configuration of services, and the configuration items that support them, is available when and where needed?",
        "answer": [
            "Change control",
            "IT asset management",
            "Service configuration management",
            "Service level management"
        ],
        "ans": "C",
        "correctAnswer": "Service configuration management"
    },
    {
        "set": "Practice Set 1",
        "number": 9,
        "question": "Identify the missing word in the following sentence.<br />The [?] is the practice of capturing demand for incident resolution and service requestionsts.",
        "answer": [
            "Incident management",
            "Service level management",
            "Service requestionst management",
            "Service desk"
        ],
        "ans": "D",
        "correctAnswer": "Service desk"
    },
    {
        "set": "Practice Set 1",
        "number": 10,
        "question": "Dion Training has decided to offer two membership levels to their training programs. The first membership level includes all of their video courses, practice exams, and study guides for a single monthly fee. This plan does not provide the students with the actual exam voucher to take the certification exams, though. What term best describes this membership level which provides several services for a single price?",
        "answer": [
            "An outcome",
            "Value",
            "A service offering",
            "An output"
        ],
        "ans": "C",
        "correctAnswer": "A service offering"
    },
    {
        "set": "Practice Set 1",
        "number": 11,
        "question": "Which describes outputs?",
        "answer": [
            "Tangible or intangible deliverables",
            "Functionality offered by a product or service",
            "Results for a stakeholder",
            "Configuration of an organization’s resources"
        ],
        "ans": "A",
        "correctAnswer": "Tangible or intangible deliverables"
    },
    {
        "set": "Practice Set 1",
        "number": 12,
        "question": "What term best describes a person or a group of people that has its own functions with responsibilities, authorities, and relationships to achieve its objectives?",
        "answer": [
            "Consumer",
            "Service provider",
            "Customer",
            "Organization"
        ],
        "ans": "D",
        "correctAnswer": "Organization"
    },
    {
        "set": "Practice Set 1",
        "number": 13,
        "question": "Which describes the nature of the guiding principles?",
        "answer": [
            "A guiding principle is mandatory and must be used when adopting a new service within the organization",
            "A guiding principle is specific and only applies to one initiative within the organization",
            "An organization must implement the guiding principles exactly as defined by the ITIL 4 Foundation manual",
            "A guiding principle is a recommendation used as guidance in all circumstances"
        ],
        "ans": "D",
        "correctAnswer": "A guiding principle is a recommendation used as guidance in all circumstances"
    },
    {
        "set": "Practice Set 1",
        "number": 14,
        "question": "Which guiding principle is most affected by the customer experience (CX)?",
        "answer": [
            "Progress iteratively with feedback",
            "Focus on value",
            "Think and work holistically",
            "Start where you are"
        ],
        "ans": "B",
        "correctAnswer": "Focus on value"
    },
    {
        "set": "Practice Set 1",
        "number": 15,
        "question": "Dion Training Solutions wants to build a new service to automatically fulfill exam voucher orders for students. Currently, exam vouchers are fulfilled manually by a staff member once the order is received from the student by copying and pasting the voucher number from a spreadsheet into an email template and sending out the email to the students. Before attempting to automate this fulfillment process, the team lead takes an inventory of the current services, processes, and procedures that are being used by the voucher fulfillment team to see if they might be able to be reused. What guiding principle best describes this scenario?",
        "answer": [
            "Focus on value",
            "Collaborate and promote visibility",
            "Start where you are",
            "Keep it simple and practical"
        ],
        "ans": "C",
        "correctAnswer": "Start where you are"
    },
    {
        "set": "Practice Set 1",
        "number": 16,
        "question": "Dion Training Solutions has decided to create an online course for the ITIL 4 Foundation exam. The company developed their curriculum and then invited 50 students to participate in live training to determine if the training was effective. During the training, some students didn't understand the concept of the service value chain, so the instructor rewrote that portion of the curriculum. Which guiding principle is being demonstrated by this approach to curriculum development?",
        "answer": [
            "Focus on value",
            "Collaborate and promote visibility",
            "Optimize and automate",
            "Progress iteratively with feedback"
        ],
        "ans": "D",
        "correctAnswer": "Progress iteratively with feedback"
    },
    {
        "set": "Practice Set 1",
        "number": 17,
        "question": "You are working to design a new service for internal use across your organization. As part of your design efforts, you form a small team with relevant stakeholders from the human resources, information technology, sales, and other relevant departments to ensure the service adequately meets each department's needs and hope this results in great acceptance of the service when delivered. Which guiding principle best describes this scenario?",
        "answer": [
            "Focus on value",
            "Collaborate and promote visibility",
            "Start where you are",
            "Keep it simple and practical"
        ],
        "ans": "B",
        "correctAnswer": "Collaborate and promote visibility"
    },
    {
        "set": "Practice Set 1",
        "number": 18,
        "question": "John is currently working to create a new service that would allow a customer to purchase a digital product online and have it delivered to the user's inbox. John is responsible for the payment portion of this service, but Sally is responsible for the digital product fulfillment portion of the service. Which of the following should John do in order to follow the principle of 'think and work holistically'?",
        "answer": [
            "John should optimize his code to ensure it runs efficiently",
            "John should meet with Sally to determine how the digital product fulfillment will occur",
            "John should wait until Sally's portion is complete before beginning his to ensure they work together properly",
            "John should tell Sally to wait until his portion is done before starting hers to ensure compatibility"
        ],
        "ans": "B",
        "correctAnswer": "John should meet with Sally to determine how the digital product fulfillment will occur"
    },
    {
        "set": "Practice Set 1",
        "number": 19,
        "question": "Which of these are a key focus of the ‘organization and people’ dimension?",
        "answer": [
            "Security and compliance",
            "Activities that transform inputs into outputs",
            "Roles and responsibilities",
            "Contracts and agreements"
        ],
        "ans": "C",
        "correctAnswer": "Roles and responsibilities"
    },
    {
        "set": "Practice Set 1",
        "number": 20,
        "question": "Which of these are NOT a key focus of the ‘partners and suppliers’ dimension?",
        "answer": [
            "Workflow management and inventory systems",
            "Roles and responsibilities",
            "Contracts and agreements",
            "Security and compliance"
        ],
        "ans": "A",
        "correctAnswer": "Workflow management and inventory systems"
    },
    {
        "set": "Practice Set 1",
        "number": 21,
        "question": "Which ITIL concept describes the service value chain?",
        "answer": [
            "Seven guiding principles",
            "Four dimensions of service management",
            "Service value system",
            "Practices"
        ],
        "ans": "C",
        "correctAnswer": "Service value system"
    },
    {
        "set": "Practice Set 1",
        "number": 22,
        "question": "What operating model outlines the key activities required to respond to demand and facilitate value realization through the creation and management of products and services?",
        "answer": [
            "Continual improvement",
            "Service value chain",
            "Practices",
            "Guiding principles"
        ],
        "ans": "B",
        "correctAnswer": "Service value chain"
    },
    {
        "set": "Practice Set 1",
        "number": 23,
        "question": "Which value chain activity includes portfolio decisions for design and transition?",
        "answer": [
            "Engage",
            "Improve",
            "Plan",
            "Deliver and support"
        ],
        "ans": "C",
        "correctAnswer": "Plan"
    },
    {
        "set": "Practice Set 1",
        "number": 24,
        "question": "Which step of the continual improvement model states that \"each improvement initiative should support the organization's goals and objectives\"?",
        "answer": [
            "Where are we now",
            "What is the vision",
            "Where do we want to be",
            "How do we get there"
        ],
        "ans": "B",
        "correctAnswer": "What is the vision"
    },
    {
        "set": "Practice Set 1",
        "number": 25,
        "question": "When working within the 'what is the vision' step of the continual improvement model, what must you ensure to occur?",
        "answer": [
            "The high-level direction of the initiative has been understood",
            "The detailed steps of how to achieve your objectives",
            "What metrics you will use to measure success",
            "The current processes being used"
        ],
        "ans": "A",
        "correctAnswer": "The high-level direction of the initiative has been understood"
    },
    {
        "set": "Practice Set 1",
        "number": 26,
        "question": "Bridgett is leading an improvement initiative within your company. She has been told that the company wants to have the highest customer satisfaction in the industry. Currently, the company has a customer satisfaction rating of 92% but the industry leader has an average of 94%. Bridgett decides that the company should set their goal of obtaining a 96% customer satisfaction score within the next 12 months. What step of the continual improvement model is Bridgett currently in?",
        "answer": [
            "What is the vision",
            "Where do we want to be",
            "How do we get there",
            "Where are we now"
        ],
        "ans": "B",
        "correctAnswer": "Where do we want to be"
    },
    {
        "set": "Practice Set 1",
        "number": 27,
        "question": "What is a normal change?",
        "answer": [
            "A change that doesn't need risk assessment because the procedure has been pre-authorized",
            "A change that needs to be assessed, authorized, and scheduled by a change authority",
            "A change that doesn't need risk assessment because it is required to resolve an incident",
            "A change that is routine in nature, is fully documented, and the risks are well understood"
        ],
        "ans": "B",
        "correctAnswer": "A change that needs to be assessed, authorized, and scheduled by a change authority"
    },
    {
        "set": "Practice Set 1",
        "number": 28,
        "question": "Your company's external router has just malfunctioned and needs to be replaced. The entire organization's connection to the Wide Area Network will remain offline until this router is replaced. Which type of change should be initiated?",
        "answer": [
            "Standard",
            "Normal",
            "Emergency",
            "Routine"
        ],
        "ans": "C",
        "correctAnswer": "Emergency"
    },
    {
        "set": "Practice Set 1",
        "number": 29,
        "question": "What is a change schedule NOT used for?",
        "answer": [
            "Developing features",
            "Planning changes",
            "Avoiding conflicts",
            "Assigning resources"
        ],
        "ans": "A",
        "correctAnswer": "Developing features"
    },
    {
        "set": "Practice Set 1",
        "number": 30,
        "question": "How can you ensure the incidents with the highest business impact are resolved first?",
        "answer": [
            "Implement incident classification",
            "Use automation",
            "Utilize self-help tools",
            "Utilize problem management"
        ],
        "ans": "A",
        "correctAnswer": "Implement incident classification"
    },
    {
        "set": "Practice Set 1",
        "number": 31,
        "question": "Which incidents should be logged?",
        "answer": [
            "Only an incident that cannot be immediately resolved",
            "Every incident should be logged",
            "Any incident that occurs more than once",
            "Only incidents that are not solved using self-help tools"
        ],
        "ans": "B",
        "correctAnswer": "Every incident should be logged"
    },
    {
        "set": "Practice Set 1",
        "number": 32,
        "question": "What is NOT a phase in problem management?",
        "answer": [
            "Problem identification",
            "Problem classification",
            "Problem control",
            "Error control"
        ],
        "ans": "B",
        "correctAnswer": "Problem classification"
    },
    {
        "set": "Practice Set 1",
        "number": 33,
        "question": "If a problem cannot be resolved quickly, you might wish to document and implement a temporary solution to reduce the impact of the problem. What is this known as?",
        "answer": [
            "Incident",
            "Solution",
            "Workaround",
            "Known error"
        ],
        "ans": "C",
        "correctAnswer": "Workaround"
    },
    {
        "set": "Practice Set 1",
        "number": 34,
        "question": "How does 'service requestionst management' contribute to the 'improve' value chain activity?",
        "answer": [
            "It ensures that users continue to be productive when they need assistance from the service provider",
            "It collects user-specific requirements, sets expectations, and provides status updates",
            "It analyzes data to identify opportunities to provide new service requestionst options",
            "It acquires pre-approved service components to help fulfill service requestionsts"
        ],
        "ans": "C",
        "correctAnswer": "It analyzes data to identify opportunities to provide new service requestionst options"
    },
    {
        "set": "Practice Set 1",
        "number": 35,
        "question": "Fill in the blank.<br />Service requestionsts and their fulfillment should be [?] and automated to the greatest degree possible.",
        "answer": [
            "Uniquestionly handled",
            "Standardized",
            "Creatively solved",
            "Ignored"
        ],
        "ans": "B",
        "correctAnswer": "Standardized"
    },
    {
        "set": "Practice Set 1",
        "number": 36,
        "question": "Your smartphone isn't working properly. You call the toll-free number for your service provider's support center. Which practice would you reach that serves as the entry point for all contact between the service provider and its users?",
        "answer": [
            "Problem Management",
            "Service desk",
            "Service requestionst management",
            "Incident management"
        ],
        "ans": "B",
        "correctAnswer": "Service desk"
    },
    {
        "set": "Practice Set 1",
        "number": 37,
        "question": "Which is a recommendation of the ‘service desk’ practice?",
        "answer": [
            "Service desks should never use technologies such as SMS and chat functions",
            "Service desks should be highly technical functions",
            "Service desks should have a practical understanding of the business practices across the organization",
            "Service desks should always use a virtual service desk"
        ],
        "ans": "C",
        "correctAnswer": "Service desks should have a practical understanding of the business practices across the organization"
    },
    {
        "set": "Practice Set 1",
        "number": 38,
        "question": "What is a service level agreement used for?",
        "answer": [
            "To measure the performance of services from a customer's point of view",
            "To measure the performance of the service availability",
            "To measure the performance of the service capability",
            "To measure the performance of the service from the service provider's point of view."
        ],
        "ans": "A",
        "correctAnswer": "To measure the performance of services from a customer's point of view"
    },
    {
        "set": "Practice Set 1",
        "number": 39,
        "question": "How does 'service level management' contribute to the 'plan' value chain activity?",
        "answer": [
            "Uses feedback from users about the service and requirements from customers to make the service better",
            "Provides information about the actual service performance and trends",
            "Collects and processes feedback from customers and users",
            "Collects feedback during interactions and communicates service performance objectives to the operations and support teams"
        ],
        "ans": "B",
        "correctAnswer": "Provides information about the actual service performance and trends"
    },
    {
        "set": "Practice Set 1",
        "number": 40,
        "question": "What should be included in every service level agreement?",
        "answer": [
            "Detailed metrics to capture availability of the system",
            "Metrics for system response time",
            "Clearly defined service outcomes",
            "Number of emails sent per hour"
        ],
        "ans": "C",
        "correctAnswer": "Clearly defined service outcomes"
    }
    
];
/* sets initial values to zero for the question number and score */

let qNumber = 0;
let score = 0;

/* event listener for start quiz button. Hides the start page and calls the function generateQuizQuestion */
function startQuiz() {
    $('main').on('click', '#button-start', function(event){
        $('.start-quiz').hide();
        generateQuizQuestion();
    });
}

/* begins displaying quiz questions from the STORE array until the very last question has been displayed, then calls the displayResults function */
function generateQuizQuestion() {
    if (qNumber < STORE.length) {
    let question =$(`<form class ="js-quiz-form">
    <legend class = "question">${STORE[qNumber].question}</legend>
    <ul class="radiogroup" role="radiogroup" aria-labelledby="question"></ul>`);
    let answers = STORE[qNumber].answer.map(function(answerValue, answerIndex){
        return `<label for="${answerValue}"><input type="radio" id="${answerValue}" name="answer" tabindex="${answerIndex}" value="${answerValue}" aria-checked="false" required>${answerValue}</label><br>`;
    });
    let button = $(`<button type="submit" id ="button-submit">Submit</button></form>`)
    $('.js-quiz').append(question);
    $('.radiogroup').append(answers, button);
    questionNumber();
} else {
    displayResults();
}

}

/* event listener for the submit button. Then checks to see if an input is selected, and if the answer selected is correct */
function questionChecker(){
    $('main').on('click','#button-submit', function (event){
        if ($('input:radio').is(':checked')) {
        event.preventDefault();
        let selectedAnswer= $("input[name=answer]:checked").val();
        console.log(selectedAnswer);
        if (selectedAnswer === STORE[qNumber].correctAnswer) {
            rightAnswer();
        } else {
                wrongAnswer();
            }
        }else {
            alert('Please select an answer.')
        }
    });
}

/* updates the question number and displays it at the top of the page */
function questionNumber(){
    $('header').find('#question-number').text(qNumber+1);
}

/* keeps score of correct answers and displays at the top of the page */
function scoreKeeper(){
    score++;
    $('header').find('#score').text(`${score}/${STORE.length}`);

}

/* displays the page for when the answer is right, updates score accordingly */
function rightAnswer() {
    console.log('rightAnswer ran');
    $('.js-quiz-form').hide();
    $('.js-answer').append(`<h2>You're Right!</h2>
    <img src="img/right-answer.jpg" alt="abstract painting" id="right-answer"/>
    <p>Great Job.</p>
    <button type="button" id ="button-next">Next Question</button>`).show();
    scoreKeeper();
}

/* displays page for when the answer is wrong and displays the correct answer */
function wrongAnswer() {
    $('.js-quiz-form').hide();
    $('.js-answer').append(`<h2>That answer is not quite right...</h2>
        <img src="img/wrong-answer.jpg" alt="child with paint all over face" id="wrong-answer"/>
        <h3>The correct answer is:</h3>
        <p><span class="correct-answer">${STORE[qNumber].correctAnswer}</span></p>
        <button type="button" id ="button-next">Next</button>`).show();
}

/* event listener for the next question button, calls the generateQuizQuestion function to display the next question */
function nextQuestion() {
    $('main').on('click','#button-next', function(event) {
        $('.js-answer').empty();
        $('.js-quiz-form').empty();
        qNumber++;
        generateQuizQuestion();
        $('js-quiz-form').show();
    });
}

/* displays the final percentage score and total number of correct answers */
function displayResults(){
    console.log("`displayResults` ran");
    let finalScore = (score/(STORE.length))*100;
    $('.js-answer').append(`<h2>Test Results</h2>
    <img id="paint-bucket" alt="red paint bucket" src = "img/paint-bucket.jpg"/>
    <h3>${finalScore}%</h3>
    <p>You got <span class="right-answers">${score} </span>out of ${STORE.length} questions right.</p>
    <button type="button" id ="button-restart">Start a New Quiz</button>`)
}

function restartQuiz(){
    console.log('restart quiz ran');
 $('main').on('click', '#button-restart', function(event){
     console.log('restart button clicked');
    score = 0;
    qNumber = 0;
    $('.js-answer').empty();
    $('.js-quiz-form').empty();
    $('.start-quiz').show();
    $('header').find('#score').text(`${score}/${STORE.length}`);
    $('header').find('#question-number').text(`${qNumber}`);
 });
}

function handleQuizApp(){
    startQuiz();
    questionChecker();
    nextQuestion();
    restartQuiz();
}

/* calls the handleQuizApp to activate functions with event listeners */
$(handleQuizApp);